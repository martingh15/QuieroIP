{"ast":null,"code":"import _slicedToArray from \"/home/mark/Workspace/QuieroIP/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/mark/Workspace/QuieroIP/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mark/Workspace/QuieroIP/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/mark/Workspace/QuieroIP/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/mark/Workspace/QuieroIP/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/mark/Workspace/QuieroIP/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/mark/Workspace/QuieroIP/src/components/elementos/MensajeError.js\";\nimport React from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport isObject from \"lodash/isObject\";\nimport isString from \"lodash/isString\";\n\nvar MensajeError =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MensajeError, _React$Component);\n\n  function MensajeError(props) {\n    var _this;\n\n    _classCallCheck(this, MensajeError);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MensajeError).call(this, props));\n    _this.state = {\n      mostrar: false,\n      error: null\n    };\n    return _this;\n  }\n\n  _createClass(MensajeError, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var error = null;\n      Object.entries(this.props.state).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        var valuePrev = prevProps.state[key];\n\n        if (value.create && valuePrev && valuePrev.create && !value.create.isCreating && valuePrev.create.isCreating && value.create.error) {\n          error = value.create.error;\n        }\n\n        if (value.update && valuePrev && valuePrev.update && !value.update.isUpdating && valuePrev.update.isUpdating && value.update.error) {\n          error = value.update.error;\n        }\n\n        if (value.delete && valuePrev && valuePrev.delete && !value.delete.isDeleting && valuePrev.delete.isDeleting && value.delete.error) {\n          error = value.delete.error;\n        }\n\n        if (value.validate && valuePrev && valuePrev.validate && !value.validate.isValidating && valuePrev.validate.isValidating && value.validate.error) {\n          error = value.validate.error;\n        } //Authentication\n\n\n        if (value.errorMessage != valuePrev.errorMessage) {\n          error = value.errorMessage;\n        }\n      });\n\n      if (this.state.mostrar != (error != null) && error != null && error.length > 0) {\n        this.setState({\n          mostrar: true,\n          error: error\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          mostrar = _this$state.mostrar,\n          error = _this$state.error;\n      var msgError = \"\"; //if (isObject(error.message) && !isString(error.message)) {\n\n      if (isObject(error) && !isString(error)) {\n        msgError = Object.keys(error.message).map(function (key, index) {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }, error.message[key]);\n        });\n      } else {\n        msgError = React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, error);\n      }\n\n      return React.createElement(Modal, {\n        show: mostrar,\n        onHide: function onHide() {\n          _this2.setState({\n            mostrar: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Error\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, msgError, React.createElement(\"p\", {\n        className: \"text-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Intentelo nuevamente.\"))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Button, {\n        bsStyle: \"danger\",\n        onClick: function onClick() {\n          _this2.setState({\n            mostrar: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Cerrar\")));\n    }\n  }]);\n\n  return MensajeError;\n}(React.Component);\n\nfunction mapStateToProps(state) {\n  return {\n    state: state\n  };\n} // Wrap the component to inject dispatch and state into it\n\n\nexport default withRouter(connect(mapStateToProps)(MensajeError));","map":{"version":3,"sources":["/home/mark/Workspace/QuieroIP/src/components/elementos/MensajeError.js"],"names":["React","Modal","Button","connect","withRouter","isObject","isString","MensajeError","props","state","mostrar","error","prevProps","Object","entries","forEach","key","value","valuePrev","create","isCreating","update","isUpdating","delete","isDeleting","validate","isValidating","errorMessage","length","setState","msgError","keys","message","map","index","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Modal, Button} from \"react-bootstrap\";\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router-dom';\n\nimport isObject from \"lodash/isObject\";\nimport isString from \"lodash/isString\";\n\nclass MensajeError extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {mostrar: false, error: null};\n    }\n\n    componentDidUpdate(prevProps) {\n        let error = null;\n        Object.entries(this.props.state).forEach(\n            ([key, value]) => {\n                var valuePrev = prevProps.state[key];\n                if (value.create && valuePrev && valuePrev.create && !value.create.isCreating && valuePrev.create.isCreating && value.create.error) {\n                    error = value.create.error;\n                }\n                if (value.update && valuePrev && valuePrev.update && !value.update.isUpdating && valuePrev.update.isUpdating && value.update.error) {\n                    error = value.update.error;\n                }\n                if (value.delete && valuePrev && valuePrev.delete && !value.delete.isDeleting && valuePrev.delete.isDeleting && value.delete.error) {\n                    error = value.delete.error;\n                }\n                if (value.validate && valuePrev && valuePrev.validate && !value.validate.isValidating && valuePrev.validate.isValidating && value.validate.error) {\n                    error = value.validate.error;\n                }\n                //Authentication\n                if (value.errorMessage != valuePrev.errorMessage) {\n                    error = value.errorMessage;\n                }\n            });\n        if (this.state.mostrar != (error != null) && error != null && error.length > 0) {\n            this.setState({mostrar: true, error: error});\n        }\n}\n\n\n    render() {\n        const {mostrar, error} = this.state;\n\n        var msgError = \"\";\n\n        //if (isObject(error.message) && !isString(error.message)) {\n        if (isObject(error) && !isString(error)) {\n            msgError = Object.keys(error.message).map(function(key, index) {\n                return (<li>{error.message[key]}</li>);\n            });\n        }else{\n            msgError = <p>{error}</p>;\n        }\n\n        return (\n            <Modal show={mostrar} onHide={() => {\n                this.setState({mostrar: false})\n            }}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Error</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {msgError}\n                    <p className=\"text-warning\">\n                        <small>Intentelo nuevamente.</small>\n                    </p>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button bsStyle=\"danger\" onClick={() => {\n                        this.setState({mostrar: false})\n                    }}>\n                        Cerrar\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        )\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n        state: state,\n    };\n}\n\n// Wrap the component to inject dispatch and state into it\nexport default withRouter(connect(mapStateToProps)(MensajeError));\n"]},"metadata":{},"sourceType":"module"}